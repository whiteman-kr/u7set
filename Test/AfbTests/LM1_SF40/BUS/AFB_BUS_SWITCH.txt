test AFB_BUS_SWITCH1, AFB tests for BUS_SWITCH element
schema AFB_BUS_SWITCH
compatible MODULE_LM1SF40
set #TUN_ANALOG_BUS_01_INP01 = 0
set #TUN_ANALOG_BUS_02_INP01 = 0
set #TUN_ANALOG_BUS_03_INP01 = 0
set #TUN_ANALOG_BUS_04_INP01 = 0
set #TUN_ANALOG_BUS_05_INP01 = 0
//
set #TUN_ANALOG_BUS_01_INP02 = 0
set #TUN_ANALOG_BUS_02_INP02 = 0
set #TUN_ANALOG_BUS_03_INP02 = 0
set #TUN_ANALOG_BUS_04_INP02 = 0
set #TUN_ANALOG_BUS_05_INP02 = 0
//
set #TUN_ANALOG_BUS_01_INP03 = 1.1
set #TUN_ANALOG_BUS_02_INP03 = 1
set #TUN_ANALOG_BUS_03_INP03 = 1
set #TUN_ANALOG_BUS_04_INP03 = 1
set #TUN_ANALOG_BUS_05_INP03 = 1

check #OUT_BUS_SWITCH_01 == 0
check #OUT_BUS_SWITCH_02 == 0
check #OUT_BUS_SWITCH_03 == 0
check #OUT_BUS_SWITCH_04 == 0
check #OUT_BUS_SWITCH_05 == 0

endtest

test AFB_BUS_SWITCH2, AFB tests for BUS_SWITCH element
schema AFB_BUS_SWITCH
compatible MODULE_LM1SF00
set #TUN_DSCR1 = 1
set #TUN_ANALOG_BUS_01_INP01 = 1
set #TUN_ANALOG_BUS_02_INP01 = 1
set #TUN_ANALOG_BUS_03_INP01 = 1
set #TUN_ANALOG_BUS_04_INP01 = 1
set #TUN_ANALOG_BUS_05_INP01 = 1
//
set #TUN_ANALOG_BUS_01_INP02 = 0
set #TUN_ANALOG_BUS_02_INP02 = 0
set #TUN_ANALOG_BUS_03_INP02 = 0
set #TUN_ANALOG_BUS_04_INP02 = 0
set #TUN_ANALOG_BUS_05_INP02 = 0
//
set #TUN_ANALOG_BUS_01_INP03 = 1
set #TUN_ANALOG_BUS_02_INP03 = 1
set #TUN_ANALOG_BUS_03_INP03 = 1
set #TUN_ANALOG_BUS_04_INP03 = 1
set #TUN_ANALOG_BUS_05_INP03 = 1

check #OUT_BUS_SWITCH_01 == 1
check #OUT_BUS_SWITCH_02 == 1
check #OUT_BUS_SWITCH_03 == 1
check #OUT_BUS_SWITCH_04 == 1
check #OUT_BUS_SWITCH_05 == 1

endtest


test AFB_BUS_SWITCH3, AFB tests for BUS_SWITCH element
schema AFB_BUS_SWITCH
compatible MODULE_LM1SF00
//
//16 бит ширина шины
//
set #TUN_DSCR1 = 0
set #TUN_ANALOG_BUS_01_INP02 = 0
set #TUN_ANALOG_BUS_02_INP02 = 0
set #TUN_ANALOG_BUS_03_INP02 = 0
set #TUN_ANALOG_BUS_04_INP02 = 0

//
set #TUN_ANALOG_BUS_01_INP03 = 1
set #TUN_ANALOG_BUS_02_INP03 = 1
set #TUN_ANALOG_BUS_03_INP03 = 1
set #TUN_ANALOG_BUS_04_INP03 = 1


check #OUT_BUS_SWITCH_A_16_01== 0
check #OUT_BUS_SWITCH_A_16_02== 0
check #OUT_BUS_SWITCH_A_16_03== 0
check #OUT_BUS_SWITCH_A_16_04== 0

endtest

test AFB_BUS_SWITCH4, AFB tests for BUS_SWITCH element
schema AFB_BUS_SWITCH
compatible MODULE_LM1SF00
//
//16 бит ширина шины
//
set #TUN_DSCR1 = 1
set #TUN_ANALOG_BUS_01_INP02 = 0
set #TUN_ANALOG_BUS_02_INP02 = 0
set #TUN_ANALOG_BUS_03_INP02 = 0
set #TUN_ANALOG_BUS_04_INP02 = 0

//
set #TUN_ANALOG_BUS_01_INP03 = 0.5
set #TUN_ANALOG_BUS_02_INP03 = 0.5
set #TUN_ANALOG_BUS_03_INP03 = 0.5
set #TUN_ANALOG_BUS_04_INP03 = 0.5


check #OUT_BUS_SWITCH_A_16_01== 0.5
check #OUT_BUS_SWITCH_A_16_02== 0.5
check #OUT_BUS_SWITCH_A_16_03== 0.5
check #OUT_BUS_SWITCH_A_16_04== 0.5

endtest


test AFB_BUS_SWITCH5, AFB tests for BUS_SWITCH element
schema AFB_BUS_SWITCH
compatible MODULE_LM1SF00
//
//48 бит ширина шины
//
set #TUN_DSCR1 = 0
set #TUN_ANALOG_BUS_01_INP02 = 10.5
set #TUN_ANALOG_BUS_02_INP02 = 10.5
set #TUN_ANALOG_BUS_03_INP02 = 10.5
set #TUN_ANALOG_BUS_04_INP02 = 10.5
set #TUN_ANALOG_BUS_05_INP02 = 10.5
//
set #TUN_ANALOG_BUS_01_INP03 = 0.15
set #TUN_ANALOG_BUS_02_INP03 = 0.15
set #TUN_ANALOG_BUS_03_INP03 = 0.15
set #TUN_ANALOG_BUS_04_INP03 = 0.15
set #TUN_ANALOG_BUS_05_INP03 = 0.15

check #OUT_BUS_SWITCH_A_48_01== 10.5
check #OUT_BUS_SWITCH_A_48_02== 10.5
check #OUT_BUS_SWITCH_A_48_03== 10.5
check #OUT_BUS_SWITCH_A_48_04== 10.5
check #OUT_BUS_SWITCH_A_48_05== 10.5

endtest

test AFB_BUS_SWITCH6, AFB tests for BUS_SWITCH element
schema AFB_BUS_SWITCH
compatible MODULE_LM1SF00
//
//48 бит ширина шины
//
set #TUN_DSCR1 = 1
set #TUN_ANALOG_BUS_01_INP02 = 10.5
set #TUN_ANALOG_BUS_02_INP02 = 10.5
set #TUN_ANALOG_BUS_03_INP02 = 10.5
set #TUN_ANALOG_BUS_04_INP02 = 10.5
set #TUN_ANALOG_BUS_05_INP02 = 10.5
//
set #TUN_ANALOG_BUS_01_INP03 = 0.15
set #TUN_ANALOG_BUS_02_INP03 = 0.15
set #TUN_ANALOG_BUS_03_INP03 = 0.15
set #TUN_ANALOG_BUS_04_INP03 = 0.15
set #TUN_ANALOG_BUS_05_INP03 = 0.15

check #OUT_BUS_SWITCH_A_48_01== 0.15
check #OUT_BUS_SWITCH_A_48_02== 0.15
check #OUT_BUS_SWITCH_A_48_03== 0.15
check #OUT_BUS_SWITCH_A_48_04== 0.15
check #OUT_BUS_SWITCH_A_48_05== 0.15

endtest